<!DOCTYPE html>
<html>
	<head>
		<script src="./Rectangle.js"></script>
		<script src="./MaxRects.js"></script>
		<script src="./BinPack.js"></script>
	</head>
	<body>
		<canvas width="256" height="256"></canvas>
		<script>
var bin = new MaxRects.MaxRects( 256, 256 );
//var bin = new MaxRects2( 256, 256 )
//bin.insert( [[30,20],[50,20],[10,80],[90,20]] );
//bin.batchInsert( new Array(64).fill().map(()=>Math.random()*32|0), new Array(64).fill().map(()=>Math.random()*32|0))
//bin.batchInsert([32,32],[32,32])
bin.insert( new Array( 64 ).fill().map( () => [16+Math.random()*32|0,16+Math.random()*32|0] ))
var ctx = document.querySelector("canvas").getContext("2d");
for ( var i = 0; i < bin.usedRectangles.length; i++ ) {
	var rect = bin.usedRectangles[i]
//	var r = bin.usedRectangles[i]
//	var rect = {x: r[0], y: r[1], width:r[2], height: r[3]}
	ctx.fillStyle = "rgba(255,0,0,0.25)"
	ctx.fillRect( rect.x, rect.y, rect.width, rect.height )
	ctx.font = "16px sans"
	ctx.fillStyle = "black"
	ctx.fillText( i.toString(), rect.x + 1, rect.y + 17 ) 
}
for ( var i = 0; i < bin.freeRectangles.length; i++ ) {
	var rect = bin.freeRectangles[i]
//	var r = bin.freeRectangles[i]
//	var rect = {x: r[0], y: r[1], width:r[2], height: r[3]}
	ctx.fillStyle = "rgba(0,255,0,0.25)"
	ctx.fillRect( rect.x, rect.y, rect.width, rect.height )
	ctx.font = "16px sans"
	ctx.fillStyle = "black"
	ctx.fillText( i.toString(), rect.x + 1, rect.y + 17 ) 
}
		</script>
	</body>
</html>
